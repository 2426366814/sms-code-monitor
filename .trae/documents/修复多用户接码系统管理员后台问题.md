# 修复多用户接码系统管理员后台问题

## 问题分析
根据对项目代码的检查，我发现以下问题需要修复：

1. **管理员后台退出功能**：
   - 已检查的页面（users.html, dashboard.html）已添加侧边栏退出按钮
   - 需确认其他管理页面（system.html, monitors.html, codes.html）是否也有退出按钮

2. **用户添加功能**：
   - 权限检查已从使用 'admin' 权限名改为 'manage_users'（backend/api/admin/index.php:55-57）
   - 需确认所有相关页面和功能的权限检查是否一致

3. **API密钥生成问题**：
   - 代码已实现多层保障确保api_keys表存在
   - 需检查是否有其他地方可能引用错误表名

## 修复计划

### 1. 完善管理员后台退出功能
- 检查并确保所有管理页面（system.html, monitors.html, codes.html）的侧边栏都添加了退出按钮
- 确认退出功能的JavaScript实现是否正确

### 2. 验证用户添加功能
- 检查admin/api/index.php中的所有权限检查是否使用正确的权限名
- 验证用户添加API端点是否能正常工作

### 3. 修复API密钥生成问题
- 检查所有与API密钥相关的代码，确保使用正确的表名
- 验证API密钥生成流程是否完整

### 4. 代码检查与测试
- 检查所有关键文件的代码逻辑
- 确保数据库初始化脚本正确创建所有必要的表和权限
- 测试主要功能是否能正常工作

## 预期结果
- 管理员后台所有页面都有明确的退出按钮
- 用户添加功能恢复正常，不再显示"无权限访问此资源"错误
- API密钥生成功能正常工作，能够成功生成和管理API密钥
- 项目可以正常打包，包含所有必要的文件

## 执行步骤
1. 检查并修复所有管理页面的退出按钮
2. 验证用户添加功能的权限检查
3. 检查并修复API密钥生成相关代码
4. 运行项目打包脚本，确保项目可以正常打包