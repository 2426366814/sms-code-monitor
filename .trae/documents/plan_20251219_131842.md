已完成对API密钥生成失败问题的修复，主要修改如下：

1. **修复API密钥生成失败问题**：
   - 问题根源：api_keys表不存在导致生成API密钥失败
   - 修复方案：在API请求处理前添加数据库初始化检查，确保api_keys表存在
   - 修改文件：backend/api/api_keys/index.php

2. **增强前端错误处理**：
   - 修改了getApiKey函数，使其在获取API密钥失败时尝试生成新的API密钥
   - 修改文件：frontend/admin/system.html

3. **增强数据库初始化逻辑**：
   - 修改了DatabaseInit::init方法，使其在执行所有SQL语句失败时，尝试单独创建api_keys表
   - 修改文件：backend/utils/DatabaseInit.php

4. **确认database.sql文件完整性**：
   - 检查了database.sql文件，确认其中包含api_keys表的创建语句
   - 确认了表结构正确，包含所有必要字段

这些修改确保了在生成API密钥时，api_keys表会被正确创建，从而解决了"SQLSTATE[42S02]: Base table or view not found: 1146 Table 'jm.api_keys' doesn't exist"错误。